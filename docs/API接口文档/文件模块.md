# 文件模块

---

## 1. 单文件上传

**接口**: `POST /api/upload`  
**需要认证**: 是  
**Content-Type**: `multipart/form-data`

### 请求参数

```json
{
  "file": "文件对象 (必填)"
}
```

### 响应数据

```json
{
  "code": 200,
  "message": "上传成功",
  "data": "https://cdn.goabroad.com/uploads/2024/11/03/uuid-12345.jpg",
  "timestamp": 1699012200000
}
```

---

## 2. 批量文件上传

**接口**: `POST /api/upload/batch`  
**需要认证**: 是  
**Content-Type**: `multipart/form-data`

### 请求参数

```json
{
  "files": ["文件对象数组 (必填)"]
}
```

### 响应数据

```json
{
  "code": 200,
  "message": "上传完成",
  "data": [
    "https://cdn.goabroad.com/uploads/2024/11/03/uuid-111.jpg",
    "https://cdn.goabroad.com/uploads/2024/11/03/uuid-222.png",
    "https://cdn.goabroad.com/uploads/2024/11/03/uuid-333.jpg"
  ],
  "timestamp": 1699012800000
}
```

---

## 3. 删除文件

**接口**: `DELETE /api/upload`  
**需要认证**: 是

### 请求参数 (Query)

```json
{
  "fileUrl": "要删除的文件URL (必填)"
}
```

### 响应数据

```json
{
  "code": 200,
  "message": "文件删除成功",
  "data": null,
  "timestamp": 1699012200000
}
```

---

## 错误码说明

| 错误码 | 说明 |
|-------|------|
| 40101 | 未登录或token已过期 |
| 40301 | 无权限删除该文件 |
| 50001 | 不支持的文件类型 |
| 50002 | 文件大小超过限制 |
| 50003 | 文件不存在或已被删除 |

